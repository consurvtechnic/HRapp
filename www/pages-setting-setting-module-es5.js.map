{"version":3,"sources":["webpack:///src/app/pages/setting/setting.page.html","webpack:///src/app/pages/setting/setting.module.ts","webpack:///src/app/pages/setting/setting.page.ts","webpack:///src/app/pages/setting/setting.page.scss","webpack:///src/app/pages/setting/setting-routing.module.ts"],"names":["SettingPageModule","imports","declarations","SettingPage","authService","http","router","routerOutlet","modalController","userInfo","showChangePassword","passwordType","passwordIcon","userData$","subscribe","res","displayUserData","logout","post","username","staff_id","olpass","oldPassword","newpass","newPassword","console","log","err","selector","template","routes","path","component","SettingPageRoutingModule","forChild","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCoBFA,iBAAiB;AAAA;AAAA,O;;AAAjBA,uBAAiB,6DAT7B,+DAAS;AACRC,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,gFAJO,CADD;AAORC,oBAAY,EAAE,CAAC,yDAAD;AAPN,OAAT,CAS6B,GAAjBF,iBAAiB,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCTAG,WAAW;AAYtB,6BACUC,WADV,EAEUC,IAFV,EAGSC,MAHT,EAIUC,YAJV,EAKSC,eALT,EAK2C;AAAA;;AAJjC,eAAAJ,WAAA,GAAAA,WAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACD,eAAAC,MAAA,GAAAA,MAAA;AACC,eAAAC,YAAA,GAAAA,YAAA;AACD,eAAAC,eAAA,GAAAA,eAAA;AAdT,eAAAC,QAAA,GAAa,EAAb;AAIA,eAAAC,kBAAA,GAAmB,KAAnB;AAEA,eAAAC,YAAA,GAAuB,UAAvB;AACD,eAAAC,YAAA,GAAuB,SAAvB;AAO+C;;AAjBxB;AAAA;AAAA,iBAmBpB,oBAAW;AAAA;;AACX,iBAAKR,WAAL,CAAiBS,SAAjB,CAA2BC,SAA3B,CAAqC,UAACC,GAAD,EAAc;AACjD,mBAAI,CAACC,eAAL,GAAuBD,GAAvB;AACD,aAFD;AAGC;AAvBmB;AAAA;AAAA,iBAyBhB,mBAAU;;;;;;;AACd,6BAAM,KAAKX,WAAL,CAAiBa,MAAjB,EAAN;;;;;;;;;AACD;AA3BqB;AAAA;AAAA,iBA6BxB,0BAAc;AAEV;AACJ;AACA;AACI,iBAAKZ,IAAL,CAAUa,IAAV,CAAe,gBAAf,EAAgC;AAACC,sBAAQ,EAAC,KAAKV,QAAL,CAAcW,QAAxB;AAAiCC,oBAAM,EAAC,KAAKC,WAA7C;AAAyDC,qBAAO,EAAC,KAAKC;AAAtE,aAAhC,EACCV,SADD,CACW,UAAAC,GAAG,EAAE;AACdU,qBAAO,CAACC,GAAR,CAAYX,GAAZ;AACD,aAHD,EAGE,UAAAY,GAAG,EAAE;AACLF,qBAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,aALD;AAMD;AAxCqB;AAAA;AAAA,iBA0CtB,4BAAmB;AAChB,iBAAKhB,YAAL,GAAoB,KAAKA,YAAL,KAAsB,MAAtB,GAA+B,UAA/B,GAA4C,MAAhE;AACA,iBAAKC,YAAL,GAAoB,KAAKA,YAAL,KAAsB,SAAtB,GAAkC,KAAlC,GAA0C,SAA9D;AACH;AA7CsB;;AAAA;AAAA,S;;;;gBATf;;gBACA;;gBAFA;;gBAGA;;gBAAiB;;;;AAObT,iBAAW,6DALvB,gEAAU;AACTyB,gBAAQ,EAAE,aADD;AAETC,gBAAQ,EAAR,qEAFS;;AAAA,OAAV,CAKuB,GAAX1B,WAAW,CAAX;;;;;;;;;;;;;;;;ACXb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAM2B,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,wBAAwB;AAAA;AAAA,O;;AAAxBA,8BAAwB,6DAJpC,+DAAS;AACRhC,eAAO,EAAE,CAAC,6DAAaiC,QAAb,CAAsBJ,MAAtB,CAAD,CADD;AAERK,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIoC,GAAxBF,wBAAwB,CAAxB","file":"pages-setting-setting-module-es5.js","sourcesContent":["export default \"<!-- <ion-header>\\r\\n  <ion-toolbar color='primary'>\\r\\n    <ion-title>Setting</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-button share=\\\"round\\\" color=\\\"primary\\\" (click)=\\\"logoutAction()\\\">LOGOUT</ion-button>\\r\\n  <ion-item>Name: {{displayUserData?.staff_name}}</ion-item>\\r\\n  <div style=\\\"margin-top:1em;\\\" *ngIf=\\\"showChangePassword==false\\\" class=\\\"ion-text-center\\\">\\r\\n    <ion-button (click)=\\\"showChangePassword=true\\\">\\r\\n      Change Password kmu?\\r\\n    </ion-button>\\r\\n  </div>\\r\\n  <ion-item color='primary' *ngIf=\\\"showChangePassword==true\\\">\\r\\n    <strong>\\r\\n      CHANGE PASSWORD\\r\\n    </strong>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf=\\\"showChangePassword==true\\\">\\r\\n    <ion-label>\\r\\n      Old Password\\r\\n    </ion-label>\\r\\n    <ion-input [(ngModel)]='oldPassword' type=\\\"password\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf=\\\"showChangePassword==true\\\">\\r\\n    <ion-label>\\r\\n      New Password\\r\\n    </ion-label>\\r\\n    <ion-input [(ngModel)]=\\\"newPassword\\\" type=\\\"password\\\"></ion-input>\\r\\n  </ion-item>\\r\\n    <div *ngIf=\\\"showChangePassword==true\\\">\\r\\n      <ion-button color=\\\"danger\\\" expand='full' (click)=\\\"changePassword()\\\">\\r\\n        Send New Password\\r\\n      </ion-button>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"showChangePassword==true\\\">\\r\\n      <ion-button expand='full' fill=\\\"clear\\\" color=\\\"dark\\\" (click)=\\\"showChangePassword=false\\\">\\r\\n        Close\\r\\n      </ion-button>\\r\\n    </div>\\r\\n\\r\\n</ion-content> -->\\r\\n\\r\\n<ion-header>\\r\\n  <ion-toolbar color=\\\"light\\\">\\r\\n    <ion-title>Settings</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <ion-list-header>\\r\\n    <ion-label class=\\\"ion-text-uppercase\\\" color=\\\"ios-lh-labl-gray\\\">\\r\\n      User Details\\r\\n    </ion-label>\\r\\n  </ion-list-header>\\r\\n  <ion-list >\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <ion-avatar slot=\\\"start\\\">\\r\\n        <img src=\\\"https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y\\\">\\r\\n      </ion-avatar>\\r\\n      <ion-label>\\r\\n        <h2 class=\\\"ion-text-lowercase\\\" lines=\\\"none\\\">{{displayUserData?.staff_name}}</h2>\\r\\n        <!-- <p class=\\\"ion-text-lowercase\\\" lines=\\\"none\\\">{{displayUserData?.staff_name}}@consurv.com.my</p> -->\\r\\n      </ion-label>\\r\\n      <div class=\\\"center\\\">\\r\\n        <ion-button (click)=\\\"signOut()\\\" fill=\\\"clear\\\">Log out</ion-button>\\r\\n      </div>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  <!-- <ion-list *ngIf=\\\"!user\\\">\\r\\n    <ion-item lines=\\\"full\\\">\\r\\n      <a class=\\\"link\\\" (click)=\\\"loginAction()\\\">Log in to view</a>\\r\\n    </ion-item>\\r\\n  </ion-list> -->\\r\\n\\r\\n  <ion-list-header>\\r\\n    <ion-label class=\\\"ion-text-uppercase\\\" color=\\\"ios-lh-labl-gray\\\">\\r\\n      Communications\\r\\n    </ion-label>\\r\\n  </ion-list-header>\\r\\n  <ion-list>\\r\\n    <ion-item>\\r\\n      <ion-icon name=\\\"send\\\" slot=\\\"start\\\" color=\\\"medium\\\"></ion-icon>\\r\\n      <ion-label>Push Notifications (coming soon)</ion-label>\\r\\n      <ion-toggle slot checked></ion-toggle>\\r\\n    </ion-item>\\r\\n    <!-- <ion-item>\\r\\n      <ion-icon name=\\\"mail\\\" slot=\\\"start\\\" color=\\\"medium\\\"></ion-icon>\\r\\n      <ion-label>Email</ion-label>\\r\\n      <ion-toggle slot></ion-toggle>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-icon name=\\\"chatbox-ellipses\\\" slot=\\\"start\\\" color=\\\"medium\\\"></ion-icon>\\r\\n      <ion-label>SMS</ion-label>\\r\\n      <ion-toggle slot checked></ion-toggle>\\r\\n    </ion-item> -->\\r\\n  </ion-list>\\r\\n\\r\\n  <div style=\\\"margin-top:1em;\\\" *ngIf=\\\"showChangePassword==false\\\" class=\\\"ion-text-center\\\">\\r\\n    <ion-button color=\\\"warning\\\" (click)=\\\"showChangePassword=true\\\">\\r\\n      Change Password?\\r\\n    </ion-button>\\r\\n  </div>\\r\\n  <ion-item color='warning' *ngIf=\\\"showChangePassword==true\\\">\\r\\n    <strong>\\r\\n      CHANGE PASSWORD\\r\\n    </strong>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf=\\\"showChangePassword==true\\\">\\r\\n    <ion-label position=\\\"floating\\\">\\r\\n      Old Password\\r\\n    </ion-label>\\r\\n    <ion-input [(ngModel)]='oldPassword' [type]=\\\"passwordType\\\" clearOnEdit=\\\"false\\\"></ion-input>\\r\\n    <ion-icon item-end [name]=\\\"passwordIcon\\\" class=\\\"passwordIcon\\\" (click)='hideShowPassword()' slot=\\\"end\\\"></ion-icon>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf=\\\"showChangePassword==true\\\">\\r\\n    <ion-label position=\\\"floating\\\">\\r\\n      New Password\\r\\n    </ion-label>\\r\\n    <ion-input [(ngModel)]=\\\"newPassword\\\" [type]=\\\"passwordType\\\" clearOnEdit=\\\"false\\\"></ion-input>\\r\\n    <ion-icon item-end [name]=\\\"passwordIcon\\\" class=\\\"passwordIcon\\\" (click)='hideShowPassword()' slot=\\\"end\\\"></ion-icon>\\r\\n  </ion-item>\\r\\n\\r\\n    <div *ngIf=\\\"showChangePassword==true\\\">\\r\\n      <ion-button color=\\\"danger\\\" expand='full' (click)=\\\"changePassword()\\\">\\r\\n        Send New Password\\r\\n      </ion-button>\\r\\n    </div>\\r\\n    <div *ngIf=\\\"showChangePassword==true\\\">\\r\\n      <ion-button expand='full' fill=\\\"clear\\\" color=\\\"dark\\\" (click)=\\\"showChangePassword=false\\\">\\r\\n        Close\\r\\n      </ion-button>\\r\\n    </div>\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SettingPageRoutingModule } from './setting-routing.module';\r\n\r\nimport { SettingPage } from './setting.page';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SettingPageRoutingModule\r\n  ],\r\n  declarations: [SettingPage]\r\n})\r\nexport class SettingPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/services/auth.service';\r\nimport { HttpService } from 'src/app/services/http.service';\r\nimport { IonRouterOutlet, ModalController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-setting',\r\n  templateUrl: './setting.page.html',\r\n  styleUrls: ['./setting.page.scss'],\r\n})\r\nexport class SettingPage implements OnInit {\r\n  \r\n  displayUserData: any;\r\n  userInfo:any={};\r\n\r\noldPassword:any;\r\n  newPassword:any;\r\n  showChangePassword=false;\r\n\r\n  passwordType: string = 'password';\r\n passwordIcon: string = 'eye-off';\r\n\r\n  constructor(\r\n    private authService: AuthService, \r\n    private http:HttpService,\r\n    public router: Router, \r\n    private routerOutlet: IonRouterOutlet,\r\n    public modalController: ModalController) { }\r\n\r\n    ngOnInit() {\r\n    this.authService.userData$.subscribe((res: any) => {\r\n      this.displayUserData = res;\r\n    })\r\n    }\r\n\r\n  async signOut() {\r\n    await this.authService.logout();\r\n  }\r\n\r\nchangePassword()\r\n  {\r\n    // console.log('User Info',this.userInfo);\r\n//     URL: http://consurv.no-ip.biz/leave/changepassword\r\n// Expected variable : username, olpass, newpass\r\n    this.http.post('changepassword',{username:this.userInfo.staff_id,olpass:this.oldPassword,newpass:this.newPassword})\r\n    .subscribe(res=>{\r\n      console.log(res);\r\n    },err=>{\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  hideShowPassword() {\r\n     this.passwordType = this.passwordType === 'text' ? 'password' : 'text';\r\n     this.passwordIcon = this.passwordIcon === 'eye-off' ? 'eye' : 'eye-off';\r\n }\r\n}\r\n","export default \"ion-content {\\n  --background: none;\\n  background-image: url(\\\"/assets/images/hr_bg.png\\\");\\n  background-position: center top;\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n}\\n\\n/* Workaround for Ionic bug where Card color is set to gray due to \\n   ion-content background rule above */\\n\\nion-card {\\n  --background: white !important;\\n}\\n\\n.center {\\n  text-align: center;\\n}\\n\\n.card-padding {\\n  padding-top: 30px;\\n}\\n\\n.log-in-padding {\\n  display: block;\\n  margin-top: 20px;\\n  margin-left: 20px;\\n}\\n\\n.link {\\n  font-size: 14px;\\n  text-transform: uppercase;\\n}\\n\\nion-toolbar {\\n  --min-height: 50px;\\n  color: #2C9DDE;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxzZXR0aW5nLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsaURBQUE7RUFDQSwrQkFBQTtFQUNBLDRCQUFBO0VBQ0Esc0JBQUE7QUFDSjs7QUFFRTtzQ0FBQTs7QUFFQTtFQUNFLDhCQUFBO0FBQ0o7O0FBRUU7RUFDRSxrQkFBQTtBQUNKOztBQUVFO0VBQ0UsaUJBQUE7QUFDSjs7QUFFRTtFQUNFLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FBQ0o7O0FBRUU7RUFDRSxlQUFBO0VBQ0EseUJBQUE7QUFDSjs7QUFFRTtFQUNFLGtCQUFBO0VBQ0EsY0FBQTtBQUNKIiwiZmlsZSI6InNldHRpbmcucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltYWdlcy9ocl9iZy5wbmcnKTtcclxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciB0b3A7XHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuICB9XHJcbiAgXHJcbiAgLyogV29ya2Fyb3VuZCBmb3IgSW9uaWMgYnVnIHdoZXJlIENhcmQgY29sb3IgaXMgc2V0IHRvIGdyYXkgZHVlIHRvIFxyXG4gICAgIGlvbi1jb250ZW50IGJhY2tncm91bmQgcnVsZSBhYm92ZSAqL1xyXG4gIGlvbi1jYXJkIHtcclxuICAgIC0tYmFja2dyb3VuZDogd2hpdGUgIWltcG9ydGFudDtcclxuICB9XHJcbiAgXHJcbiAgLmNlbnRlciB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5jYXJkLXBhZGRpbmd7XHJcbiAgICBwYWRkaW5nLXRvcDogMzBweDtcclxuICB9XHJcbiAgXHJcbiAgLmxvZy1pbi1wYWRkaW5nIHtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gIH1cclxuICBcclxuICAubGluayB7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gIH1cclxuICBcclxuICBpb24tdG9vbGJhciB7XHJcbiAgICAtLW1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgICBjb2xvcjogIzJDOURERTtcclxufSJdfQ== */\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SettingPage } from './setting.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SettingPageRoutingModule {}\r\n"]}