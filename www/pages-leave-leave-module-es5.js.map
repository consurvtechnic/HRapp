{"version":3,"sources":["webpack:///src/app/pages/leave/leave-routing.module.ts","webpack:///src/app/pages/leave/leave.module.ts","webpack:///src/app/pages/leave/leave.page.ts","webpack:///src/app/pages/leave/leave.page.scss","webpack:///src/app/pages/leave/leave.page.html"],"names":["routes","path","component","LeavePageRoutingModule","imports","forChild","exports","LeavePageModule","declarations","LeavePage","modal","storage","authService","http","toastService","nav","postData","staff_id","leavetype","reason","currentDate","endDate","image","halfday1","halfday2","data","status","userInfo","leaveDetail","leave","userData$","subscribe","res","displayUserData","sort","a","b","Date","lastDate","getUserDataPromise","then","leavedetailPromise","staffid","console","log","err","navigateBack","selector","template"],"mappings":"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","file":"pages-leave-leave-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LeavePage } from './leave.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LeavePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LeavePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LeavePageRoutingModule } from './leave-routing.module';\n\nimport { LeavePage } from './leave.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LeavePageRoutingModule\n  ],\n  declarations: [LeavePage]\n})\nexport class LeavePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ModalController,  NavController, ToastController } from '@ionic/angular';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { HttpService } from 'src/app/services/http.service';\nimport { StorageService } from 'src/app/services/storage.service';\nimport { ToastService } from 'src/app/services/toast.service';\n\n@Component({\n  selector: 'app-leave',\n  templateUrl: './leave.page.html',\n  styleUrls: ['./leave.page.scss'],\n})\nexport class LeavePage implements OnInit {\n\n  public postData = {\n    staff_id: '',\n    leavetype: '',\n    reason: '',\n    currentDate: '',\n    endDate: '',\n    image: '',\n    halfday1: '',\n    halfday2: '',\n    data: '',\n    status: ''\n  }\n\n  public displayUserData: any;\n\n\n  userInfo:any={};\n  leaveDetail:any=[];\n  leave:any={};\n\n  reason:any;\n  currentDate:any;\n  endDate:any;\n  halfday1:any;\n  halfday2:any;\n  image='';\n\n  constructor(\n    private modal:ModalController,\n    private storage:StorageService,\n    private authService:AuthService,\n    private http:HttpService,\n     private toastService: ToastService,\n    private nav:NavController,\n  ) { }\n\n  ngOnInit() {\n     this.authService.userData$.subscribe((res: any) => {\n      this.displayUserData = res;\n    })\n\n    this.leaveDetail.sort((a, b) => {\n    //sort by date\n    if (new Date(b.lastDate) > new Date(a.lastDate))\n        return 1;\n\n    if (new Date(b.lastDate) < new Date(a.lastDate))\n        return -1;\n\n    return 0;\n});\n    \n  }\n\n  ionViewWillEnter()\n  {\n    this.authService.getUserDataPromise()\n    .then((res:any={})=>{\n      // console.log(res);\n      this.userInfo=res;\n\n      this.authService.leavedetailPromise({staffid:this.userInfo.staff_id})\n      .then(res=>{\n        console.log(res);\n        this.leaveDetail=res[0]\n      },err=>{\n        console.log(err);\n      })\n\n\n    },err=>{\n      this.nav.navigateBack('login')\n    })\n\n  }\n\n\n}\n","export default \"ion-content {\\n  --padding-top: 16px;\\n  --padding-bottom: 16px;\\n  --padding-start: 26px;\\n  --padding-end: 26px;\\n  --background: none;\\n  background-image: url(\\\"/assets/images/hr_bg.png\\\");\\n  background-position: center top;\\n  background-repeat: no-repeat;\\n  background-size: cover;\\n}\\n\\n.title {\\n  margin-top: 0;\\n  color: #434343;\\n}\\n\\nion-toolbar {\\n  --min-height: 50px;\\n  color: #2C9DDE;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xlYXZlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFjO0VBQ2Qsc0JBQWlCO0VBQ2pCLHFCQUFnQjtFQUNoQixtQkFBYztFQUNkLGtCQUFhO0VBQ2IsaURBQWlEO0VBQ2pELCtCQUErQjtFQUMvQiw0QkFBNEI7RUFDNUIsc0JBQXNCO0FBQzFCOztBQUVBO0VBQ0ksYUFBYTtFQUNiLGNBQWM7QUFDbEI7O0FBRUE7RUFDSSxrQkFBYTtFQUNiLGNBQWM7QUFDbEIiLCJmaWxlIjoibGVhdmUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAgIC0tcGFkZGluZy10b3A6IDE2cHg7XG4gICAgLS1wYWRkaW5nLWJvdHRvbTogMTZweDtcbiAgICAtLXBhZGRpbmctc3RhcnQ6IDI2cHg7XG4gICAgLS1wYWRkaW5nLWVuZDogMjZweDtcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltYWdlcy9ocl9iZy5wbmcnKTtcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXIgdG9wO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3Zlcjtcbn1cblxuLnRpdGxlIHtcbiAgICBtYXJnaW4tdG9wOiAwO1xuICAgIGNvbG9yOiAjNDM0MzQzO1xufVxuXG5pb24tdG9vbGJhciB7XG4gICAgLS1taW4taGVpZ2h0OiA1MHB4O1xuICAgIGNvbG9yOiAjMkM5RERFO1xufVxuXG4iXX0= */\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"light\\\">\\n    <ion-title>Leave History</ion-title>\\n    <ion-back-button slot=\\\"start\\\"></ion-back-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list *ngFor=\\\"let leave of leaveDetail\\\" >\\n  <div class=\\\"cuti\\\">\\n    <ion-card mode=\\\"ios\\\">\\n      <ion-card-header></ion-card-header>\\n      <ion-card-content style=\\\"overflow: scroll;\\\">\\n        <ion-card-title color=\\\"primary-contrast\\\" style=\\\"font-size:20px; text-transform: uppercase;\\\">\\n          {{leave.leavetype}}\\n        </ion-card-title>\\n        <ion-card-subtitle style=\\\"text-transform:none\\\" color=\\\"primary-contrast\\\">{{leave.reason}}</ion-card-subtitle>\\n        <ion-card-subtitle color=\\\"primary-contrast\\\" style=\\\"font-size:15px\\\"> Total of Days: {{leave.leaveday}}</ion-card-subtitle>\\n        <a>From: {{leave.datefrom | date:'EEEE, dd/MM/yyyy '}}</a> <br> <a>To: {{leave.dateend | date:'EEEE, dd/MM/yyyy '}}</a>\\n        <ion-button color=\\\"warning\\\" expand=\\\"block\\\" class=\\\"main-button\\\" *ngIf = \\\"leave.approved === 0; else approved\\\" >PENDING</ion-button>\\n        <ng-template #approved>\\n          <ion-button color=\\\"success\\\" expand=\\\"block\\\" class=\\\"main-button\\\">APPROVED</ion-button>\\n        </ng-template>\\n      </ion-card-content>\\n      \\n    </ion-card>\\n    \\n</div>\\n\\n</ion-list>\\n</ion-content>\";"]}